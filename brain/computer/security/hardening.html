<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 03.21.24 10:08 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' type='text/css' href='/~abellon/assets/css/common.css'>
<link rel='stylesheet' type='text/css' href='/~abellon/assets/css/brain.css'>
<link rel='icon' type='image/png' href='../images/art/personal_logo.png'>
<meta name='viewport' content='width=device-width, initial-scale=.5'>
<meta charset='utf-8'/>
<base target='_blank'/>
<script src='../assets/js/vim.js'></script>
</head>
<body>
<div id="preamble" class="status">
<div class='preamble'>
<h1 style='margin-top: 60px;'></h1></div>
</div>
<div id="content" class="content">
<div id="outline-container-orgc2983ad" class="outline-2">
<h2 id="orgc2983ad">hardening</h2>
<div class="outline-text-2" id="text-orgc2983ad">
</div>
<div id="outline-container-orgce310ea" class="outline-3">
<h3 id="orgce310ea">linux</h3>
<div class="outline-text-3" id="text-orgce310ea">
<ul class="org-ul">
<li><a href="https://www.reddit.com/r/linux/comments/ns7r7o/a_complete_yet_beginner_friendly_guide_on_how_to/">a complete yet beginner friendly guide on how to secure linux</a></li>
<li><a href="https://github.com/imthenachoman/how-to-secure-a-linux-server">how to secure a linux server</a></li>
<li><a href="https://github.com/lfit/itpol/blob/master/linux-workstation-security.md">linux workstation security</a></li>
<li><a href="https://utdirect.utexas.edu/apps/degree/degrees/nlogon/">degrees and dates of attendance</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge949654" class="outline-3">
<h3 id="orge949654">ssh</h3>
<div class="outline-text-3" id="text-orge949654">
<ul class="org-ul">
<li><a href="https://github.com/jtesta/ssh-audit">ssh-audit</a></li>
</ul>
</div>

<div id="outline-container-org2a0be19" class="outline-4">
<h4 id="org2a0be19">openssh</h4>
<div class="outline-text-4" id="text-org2a0be19">
<ul class="org-ul">
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-harden-openssh-on-ubuntu-18-04">how to harden openssh on ubuntu 18.04</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org52b5208" class="outline-3">
<h3 id="org52b5208">sql</h3>
<div class="outline-text-3" id="text-org52b5208">
<ul class="org-ul">
<li><a href="https://www.techrepublic.com/article/how-to-harden-mysql-security-with-a-single-command/">https://www.techrepublic.com/article/how-to-harden-mysql-security-with-a-single-command/</a></li>
</ul>
</div>

<div id="outline-container-org1ded1f3" class="outline-4">
<h4 id="org1ded1f3"><a href="https://medium.com/linode-cube/5-essential-steps-to-hardening-your-mysql-database-591e477bbbd7">5 Steps to hardedning your MySQL database</a></h4>
<div class="outline-text-4" id="text-org1ded1f3">
<ul class="org-ul">
<li>Setup with <code>mysql_secure_installation</code> - takes care of most of this for you!</li>
<li><p>
Set strong passwords and change default passwords
</p>
<ul class="org-ul">
<li><code>sudo mysqladmin password</code></li>
<li>Unfortunately, MySQL runs background tasks as that root user. These tasks will break once you set a password, unless you take the additional step of hard-coding the password into the <i>root</i>.my.cnf file:</li>
</ul>
<pre class="example" id="org1cfc3e2">
[mysqladmin]
user = root
password = yourpassword
</pre>
<p>
Make sure to restrict access to that file
</p>
<pre class="example" id="org55195ce">
$ sudo chown root:root /root/.my.cnf
$ sudo chmod 0600 /root/.my.cnf
</pre></li>
<li><p>
Remove unnecessary users
</p>
<ul class="org-ul">
<li>Remove anonymous user</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql">&gt; drop user “”@”localhost”;
&gt; flush privileges;
</pre>
</div></li>
<li><p>
Only grant access to the needed databases
</p>
<div class="org-src-container">
<pre class="src src-sql">&gt; grant all privileges on mydb.* to someuser@”localhost” identified by ‘astrongpassword’;
&gt; flush privileges;
</pre>
</div>
<ul class="org-ul">
<li>You can also grant specific privileges (select, drop, delete, etc.)</li>
</ul></li>
<li><p>
Enable TLS
</p>
<ul class="org-ul">
<li>Once you have valid certs, add this to my.cnf</li>
</ul>
<pre class="example" id="org1e877aa">
[mysqld]
ssl-ca=/path/to/ca.crt
ssl-cert=/path/to/server.crt
ssl-key=/path/to/server.key
</pre>
<ul class="org-ul">
<li>Also, make sure the SSL cipher suites are strong ones</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgecd2d97" class="outline-4">
<h4 id="orgecd2d97"><a href="https://www.tecklyfe.com/harden-mysql-server/">Harden MySQL Server</a></h4>
<div class="outline-text-4" id="text-orgecd2d97">
<ul class="org-ul">
<li>Set connection error limit
<ul class="org-ul">
<li>Bans people after <code>x</code> failed login attempts</li>
<li>Edit the configuration file <code>my.cnf</code> and set <code>max_connect_errors</code>:
<ul class="org-ul">
<li><code>max_connect_errors = 5</code></li>
</ul></li>
</ul></li>
<li>Disable load data local infile
<ul class="org-ul">
<li>The LOAD DATA LOCAL INFILE command allows users, or an attacker, to read local files and even access other files on the operating system.</li>
<li>Edit the configuration file <code>my.cnf</code> and set <code>local-infile</code>:
<ul class="org-ul">
<li><code>local-infile=0</code></li>
</ul></li>
</ul></li>
<li><p>
Disable show databases
</p>
<ul class="org-ul">
<li>Edit <code>my.cnf</code> and add <code>skip-show-database</code> to the `[mysqld]`` section:</li>
</ul>
<pre class="example" id="org716773a">
[mysqld]
skip-show-database
</pre></li>
<li>Bind MySQL to localhost
<ul class="org-ul">
<li>Edit <code>my.cnf</code>:
<ul class="org-ul">
<li><code>bind-address = 127.0.0.1</code></li>
</ul></li>
</ul></li>
<li>Privilege hardening
<ul class="org-ul">
<li>Each application that uses MySQL should have its own user that only has limited privileges and only has access to the databases it needs to run.</li>
<li>Never use <code>ALL TO ..</code></li>
<li>never use % for a hostname</li>
<li>application user permissions should be restrictive as possible</li>
<li>only allow super privileges to dba accounts, and localhost</li>
<li>never ever give users global privileges, except for root, backup user, monitoring user, replication user</li>
<li>Take extra caution when granting SUPER or FILE privileges: SUPER can modify runtime configuration and become other users, FILE allows reading or writing files as MySQL process</li>
</ul></li>
<li><p>
rename root user
</p>
<pre class="example" id="org100ccd0">
RENAME USER 'root'@'localhost' TO 'foobar'@'localhost';
FLUSH PRIVILEGES;
</pre></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgfec1226" class="outline-3">
<h3 id="orgfec1226">tools</h3>
<div class="outline-text-3" id="text-orgfec1226">
<ul class="org-ul">
<li><a href="https://github.com/cloudflare/flan">flan</a> - flan scan is a lightweight network vulnerability scanner.</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>
